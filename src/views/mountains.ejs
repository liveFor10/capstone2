<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width">
		<title>pmfinder - mountains</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
		<link href="/css/main.css" rel="stylesheet">
	</head>
	<body>
		<!--columns container--><div class="sidebar-main-parent">
			<!--column 1--><div id="sidebar" class="sidebar"></div><!--column 1-->
			<!--column 2--><div class="main-window">
				<div class="lfxMessages" id="msg">
					<% if ( locals.message ) { %>
						<p class="lfxMessages"><%= locals.message %></p>
					<% } else if (messages.error) { %>  
						<p class="lfxMessages"><%= messages.error %></p>
					<% } else if (messages.success) { %>
						<p class="lfxMessages"><%= messages.success %></p>
				 	<% } %>
				</div>
				
				<!--search controls--><!--name="matchesJSONfiles"-->
				<form class="row g-3" name="mountains" action="/mountains/search"
				  enctype="application/x-www-form-urlencoded"  method="GET">

					<h1 class="h3 mb-3 fw-normal">Good luck in your search</h1>
					
					<div class="col-md-6 form-floating">
						<select class="form-control" name="name" id="mtn">
							<option selected value=""></option>
						</select>
						<label for="mtn">mountains</label>
					</div>

					<!--name="metaDoNotIncludeInFiltering"-->
					<div hidden class="col-md-5 form-floating">
						<fieldset>
							<div>
								<input type="radio" id="or" name="searchCriteria" value="any" >
								<label for="or">Use ANY search filter</label>
							</div>
							<div>
								<input type="radio" id="and" name="searchCriteria" value="all" checked>
								<label for="and">Use ALL search filters</label>
							</div>
						</fieldset>
					</div>

					<!--
					<div class="col-md-4 form-floating">
						<select class="form-control" name="itemsPerPage" id="ipp">
							<option value="2">2</option>
							<option selected value="4">4</option>
							<option value="8">8</option>
							<option value="16">16</option>	
						</select>
						<label for="ipp">items per page</label>
					</div>
					<div class="col-md-3 form-floating">
						<select class="form-control" name="maxResults" id="mr">
							<option selected value=20>20</option>
							<option value=40>40</option>
							<option value=70>70</option>
							<option value=150>150</option>	
						</select>
						<label for="mr">max results</label>
					</div>
					<div class="col-md-3 form-floating">
						<select class="form-control" name="sortBy" id="sb">
							<option selected value="name">name</option>
							<option value="elevation">elevation</option>	
							<option value="effort">effort</option>	
						</select>
						<label for="sb">results' order</label>
					</div>
					<div class="col-md-3 form-floating">
						<fieldset>
							<div>
								<input type="radio" id="asc" name="resultsOrder" value=1 checked>
								<label for="asc">Ascending</label>
							</div>
							<div>
								<input type="radio" id="desc" name="resultsOrder" value=-1>
								<label for="desc">Descending</label>
							</div>
						</fieldset>
					</div>
					-->

					<div class="col-md-3">
						<input  class="btn btn-outline-secondary btn-lg px-4" type="submit"
							id="searchSubmit" value="Search">
					</div>
					<div class="col-md-9 form-floating"></div>
					
				</form>

				<!--display-->
				<div class="album py-5 lfxWhiteDiv">
					<div class="container">
						<div class="row row-cols-1 row-cols-sm-2 g-2">
							<% if ( locals.mountains ) { %>
								<% mountains.map((mountain, arrayIndex) => { %>
									<div class="col">
										<div class="card shadow-sm">
											<div class="card-body btn-group">
												<a class="notUnderlined" href="/mountains/<%=mountain._id%>">
													<p class="card-text">
														<img src="/images/mountains/<%=mountain.img %>" width="200">
														<h5><%=mountain.name %></h5>
														<%=mountain.elevation %> ft (<%=mountain.effort %>)
													</p>
												</a>
											</div>
										</div>
									</div>
								<% }) %>
							<% } else if ( locals.noResults ) { %>
								<p class="lfxMessages"><%= locals.noResults %></p>  
							 <% } %>
						</div>
					</div>
				</div>
			<!--column 2--></div>
		<!--column container--></div>
		
		
		<script src="/js/clicks.js" type="text/javascript"></script>
		<script src="/js/data.js" type="text/javascript"></script>
		<script type="text/javascript">
			(function() { loadMountainDropdown() })();
		</script>
		<script src="/js/jquery.3.6.0.min.js" type="text/javascript"></script>
		<script src="/js/load.sidebar.js" type="text/javascript"></script> 
		<script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
	</body>
</html>


		

